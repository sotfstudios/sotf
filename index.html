<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SOTF Studios - store </title>
<style>
  /* ---------------- Theme (gray/black luxury) ---------------- */
  :root{
    --bg:#0b0b0c; --panel:#0f0f10; --muted:#9aa0a6; --text:#e9e9ea;
    --accent:#c28b5a; --header-bg:rgba(11,11,12,0.65); --ease:300ms;
  }
  :root[data-theme="light"]{
    --bg:#ffffff; --panel:#fafafa; --muted:#666; --text:#111;
    --accent:#c28b5a; --header-bg:rgba(255,255,255,0.92);
  }

  /* ---------------- Reset ---------------- */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{font-family:Inter,system-ui,Arial; background:var(--bg); color:var(--text); transition:background var(--ease),color var(--ease); -webkit-font-smoothing:antialiased}
  a{color:inherit}
  img{display:block;max-width:100%}
  .container{max-width:1200px;margin:0 auto;padding:0 20px}

  /* ---------------- Header ---------------- */
  header.site-header{position:sticky;top:0;z-index:1200;background:var(--header-bg);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,0.03)}
  .header-inner{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 20px}
  .nav-left,.nav-right{display:flex;gap:14px;align-items:center}
  .nav-left a,.nav-right a{font-weight:700;font-size:13px;text-transform:uppercase;letter-spacing:1px;padding:8px 6px;position:relative;color:var(--text)}
  .nav-left a::after,.nav-right a::after{content:"";position:absolute;left:6px;right:6px;bottom:6px;height:2px;background:transparent;border-radius:2px;transition:all 160ms}
  .nav-left a:hover::after,.nav-right a:hover::after{background:var(--accent)}
  .logo img{height:120px;display:block}

  .icons{display:flex;gap:8px;align-items:center}
  .icon-btn{width:42px;height:42px;border-radius:8px;border:0;background:transparent;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;font-size:18px;color:var(--text);position:relative}
  .cart-badge{position:absolute;top:-6px;right:-6px;background:var(--accent);color:#111;border-radius:999px;font-size:12px;padding:3px 6px;font-weight:700}

  .mode-toggle{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:transparent;cursor:pointer;border:1px solid rgba(255,255,255,0.03);color:var(--text)}

  /* ---------------- Full-width Hero Slider (horizontal) ---------------- */
  .hero-full { position:relative; width:100%; height:100vh; overflow:hidden; }
  .hero-track { display:flex; height:100%; width:100%; transition:transform 900ms cubic-bezier(.22,.9,.36,1); will-change:transform; }
  .hero-slide { flex:0 0 100%; position:relative; min-height:100vh; display:flex; align-items:center; justify-content:center; overflow:hidden; }
  .hero-slide img { width:100%; height:100%; object-fit:cover; display:block; filter:brightness(.85); }
  .hero-overlay { position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.2)); z-index:2; }
  .hero-caption { position:absolute; z-index:3; text-align:center; color:#fff; padding:20px; max-width:1000px; transform:translateY(10px); opacity:0; transition:opacity 560ms ease, transform 560ms ease; }
  .hero-caption.is-visible { opacity:1; transform:translateY(0); }
  .hero-caption h1 { font-size: clamp(28px, 5vw, 56px); letter-spacing: 2px; margin-bottom:12px; font-weight:800; }
  .hero-caption p { font-size: clamp(14px, 1.6vw, 20px); opacity:.95; }

  /* controls */
  .hero-controls { position:absolute; z-index:5; inset:0; pointer-events:none; }
  .hero-arrows { position:absolute; top:50%; left:0; right:0; transform:translateY(-50%); display:flex; justify-content:space-between; padding:0 18px; pointer-events:auto; }
  .hero-arrow { background:rgba(0,0,0,0.45); color:#fff; border:0; width:52px; height:52px; border-radius:10px; display:grid; place-items:center; cursor:pointer; font-size:24px }
  .hero-dots { position:absolute; left:50%; transform:translateX(-50%); bottom:28px; display:flex; gap:8px; pointer-events:auto; }
  .hero-dot { width:12px; height:12px; border-radius:999px; background:rgba(255,255,255,0.18); cursor:pointer; border:0 }
  .hero-dot.is-active { background:var(--accent); transform:scale(1.05) }

  /* ---------------- Sections & Products ---------------- */
  section { padding:56px 20px; background:transparent; }
  .section-title { text-align:center; font-size:20px; letter-spacing:1.5px; margin-bottom:18px; color:var(--text); }
  .product-grid { max-width:1200px; margin:0 auto; display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:22px; }
  .product { background:var(--panel); border-radius:10px; padding:14px; text-align:center; box-shadow:0 12px 30px rgba(0,0,0,0.45); transition:transform .22s; }
  .product:hover{ transform:translateY(-6px); }
  .product img{ width:100%; height:260px; object-fit:cover; border-radius:8px; }
  .product h3{ margin:12px 0 6px; color:var(--text); font-weight:800; }
  .product .product-price{ font-weight:800; color:var(--accent); }
  .product button{ margin-top:10px; padding:10px 14px; border-radius:8px; border:0; background:var(--accent); color:#111; font-weight:800; cursor:pointer; }

  /* small slider for collections/about */
  .small-slider { height:320px; border-radius:12px; overflow:hidden; }

  /* ---------------- Cart Drawer ---------------- */
  .cart-drawer { position:fixed; right:0; top:0; height:100%; width:380px; max-width:100vw; background:var(--panel); box-shadow:-28px 0 60px rgba(0,0,0,0.6); transform:translateX(110%); transition:transform .36s ease; z-index:1500; padding:18px; display:flex; flex-direction:column; gap:12px; }
  .cart-drawer.open { transform:translateX(0); }
  .cart-header { display:flex; justify-content:space-between; align-items:center; }
  .cart-items { overflow:auto; flex:1; padding-right:6px; }
  .cart-item { display:flex; gap:12px; align-items:center; padding:12px 0; border-bottom:1px solid rgba(255,255,255,0.03); }
  .cart-item img{ width:72px; height:72px; object-fit:cover; border-radius:8px; }
  .qty-controls { display:flex; gap:8px; align-items:center; }
  .qty-controls button { width:32px; height:32px; border-radius:8px; border:0; background:rgba(255,255,255,0.03); color:var(--text); cursor:pointer; }

  .cart-footer { border-top:1px dashed rgba(255,255,255,0.03); padding-top:12px; }
  .checkout-btn { width:100%; padding:12px; border-radius:8px; border:0; background:var(--text); color:var(--panel); font-weight:800; cursor:pointer; }
  .clear-btn { background:transparent; border:0; color:var(--muted); cursor:pointer; margin-top:8px; }

  /* ---------------- Footer ---------------- */
  footer { background:var(--panel); padding:36px 20px; margin-top:24px; color:var(--muted); }
  .footer-grid { max-width:1200px; margin:0 auto; display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:20px; }

  /* ---------------- Responsive ---------------- */
  @media(max-width:880px){
    .header-inner{ flex-direction:column; align-items:stretch; }
    .logo img{ height:120px; }
    .hero-arrow{ width:44px; height:44px; font-size:20px; }
    .product img{ height:220px; }
    .hero-caption h1{ font-size:28px; }
  }
</style>
</head>

<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="container header-inner">
      <nav class="nav-left" aria-label="Left menu">
        <a href="#shop">Shop</a>
        <a href="#collections">Collections</a>
      </nav>

      <div class="logo" aria-label="Brand logo">
        <a href="/"><img src="IMAGES/New Project.png" alt="SOTF Studios logo" onerror="this.style.opacity=.25"></a>
      </div>

      <div class="nav-right">
        <a href="#about">About</a>
        <a href="#contact">Contact</a>

        <div class="icons" style="display:inline-flex;align-items:center;margin-left:10px">
          <button class="icon-btn" id="searchBtn" title="Search">üîç</button>
          <button class="icon-btn" id="userBtn" title="Account" onclick="alert('Account demo')">üë§</button>

          <button class="icon-btn" id="cartBtn" title="Cart" aria-label="Open cart">üõí
            <span id="cartBadge" class="cart-badge" style="display:none">0</span>
          </button>

          <button class="mode-toggle" id="modeToggle" title="Toggle theme">‚òÄÔ∏è</button>
        </div>
      </div>
    </div>
  </header>

  <!-- HERO (full-width, full-height, horizontal sliding) -->
  <main>
    <section class="hero-full" id="heroFull">
      <div class="hero-track" id="heroTrack" aria-live="polite">
        <!-- EDITABLE: replace these src paths with your local assets/hero1.jpg etc. -->
        <div class="hero-slide" data-index="0">
          <img src="IMAGES/WhatsApp Image 2025-11-04 at 09.47.21.jpeg" alt="Hero 1">
          <div class="hero-overlay"></div>
          <div class="hero-caption" id="heroCaption0">
            <h1>Luxury Redefined</h1>
            <p>Explore the latest collections from SOTF Studios.</p>
          </div>
        </div>

        <div class="hero-slide" data-index="1">
            <img src="IMAGES/WhatsApp Image 2025-11-04 at 09.47.21.jpeg" alt="Hero 1">
          <div class="hero-overlay"></div>
          <div class="hero-caption" id="heroCaption1">
            <h1>Exclusive Drops</h1>
            <p>Limited editions and high-quality craftsmanship.</p>
          </div>
        </div>

        <div class="hero-slide" data-index="2">
         <img src="IMAGES/WhatsApp Image 2025-11-04 at 09.47.21.jpeg" alt="Hero 1">
          <div class="hero-overlay"></div>
          <div class="hero-caption" id="heroCaption2">
            <h1>Sustainable Series</h1>
            <p>Pieces made with reclaimed fabrics and conscious design.</p>
          </div>
        </div>
      </div>

      <!-- Controls -->
      <div class="hero-controls">
        <div class="hero-arrows">
          <button class="hero-arrow" id="heroPrev" aria-label="Previous slide">‚Äπ</button>
          <button class="hero-arrow" id="heroNext" aria-label="Next slide">‚Ä∫</button>
        </div>
        <div class="hero-dots" id="heroDots" aria-hidden="false"></div>
      </div>
    </section>

    <!-- PRODUCTS (editable directly in HTML) -->
   <section id="shop">
      <h2 class="section-title">NEW IN</h2>

      <div class="product-grid" id="productGrid">
        <!-- Edit these entries in HTML directly (images from assets/) -->
        <div class="product" data-id="1">
          <img src="IMAGES/SnapInsta.to_572375566_17952706119043053_367570002269434102_n.jpg" alt="SOTF RECYCLED CAMO HAT">
          <h3 class="product-name">SOTF 1</h3>
          <div class="product-price">‚Ç¶368,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="2">
          <img src="IMAGES/SnapInsta.to_572556683_17952706101043053_8393858508966041823_n.jpg" alt="SOTF FADED CAMO JORTS">
          <h3 class="product-name">SOTF 2</h3>
          <div class="product-price">‚Ç¶560,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="3">
          <img src="IMAGES/SnapInsta.to_572702580_17952876246043053_2936356878599813652_n.jpg" alt="SOTF FR7 SLEEVELESS TEE">
          <h3 class="product-name">SOTF 3</h3>
          <div class="product-price">‚Ç¶320,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="4">
          <img src="IMAGES/SnapInsta.to_572753372_17952876207043053_932522189994446_n.jpg" alt="SOTF X BURNA SLEEVELESS TEE">
          <h3 class="product-name">SOTF 4</h3>
          <div class="product-price">‚Ç¶320,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="5">
          <img src="IMAGES/SnapInsta.to_572811141_17952876198043053_1796157757873879426_n.jpg" alt="SOTF HOODIE PANTS">
          <h3 class="product-name">SOTF 5</h3>
          <div class="product-price">‚Ç¶480,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="6">
          <img src="IMAGES/SnapInsta.to_572835844_17952876237043053_3247032788871405273_n.jpg" alt="SOTF PRINT FEMALE TOP">
          <h3 class="product-name">SOTF 6</h3>
          <div class="product-price">‚Ç¶160,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="7">
          <img src="IMAGES/SnapInsta.to_572901910_17952706071043053_4321536285451638924_n.jpg" alt="SOTF PRINT FEMALE SKIRT">
          <h3 class="product-name">SOTF 7</h3>
          <div class="product-price">‚Ç¶160,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="8">
          <img src="IMAGES/SnapInsta.to_572962069_17952876228043053_4789082737521544242_n.jpg" alt="SOTF SUSTAINABLE JACKET">
          <h3 class="product-name">SOTF 8</h3>
          <div class="product-price">‚Ç¶650,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="9">
          <img src="IMAGES/SnapInsta.to_573541215_17952876216043053_2217434532505409322_n.jpg" alt="SOTF PRINT FEMALE SKIRT">
          <h3 class="product-name">SOTF 9</h3>
          <div class="product-price">‚Ç¶160,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="10">
          <img src="IMAGES/SnapInsta.to_573560313_17952706053043053_6936077653562082553_n.jpg" alt="SOTF SUSTAINABLE JACKET">
          <h3 class="product-name">SOTF 10</h3>
          <div class="product-price">‚Ç¶650,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>
      </div>
    </section>

    <!-- Collections (small slider using same horizontal technique) -->
    <section id="collections">
      <h2 class="section-title">FROM OUR COLLECTIONS</h2>
      <div class="container">
        <div class="slider small-slider" id="collectionsSmall">
          <div class="hero-track" id="collectionsTrack" style="height:100%; transition:transform 700ms cubic-bezier(.22,.9,.36,1);">
            <div class="hero-slide" data-index="0"><img src="IMAGES/hero2.png" alt="Collection 1"><div class="hero-overlay"></div></div>
   <div class="hero-slide" data-index="1"><img src="IMAGES/hero2.png" alt="Collection 2"><div class="hero-overlay"></div></div>
   <div class="hero-slide" data-index="2"><img src="IMAGES/hero2.png" alt="Collection 3"><div class="hero-overlay"></div></div>
          </div>
        </div>
      </div>
    </section>

     <section id="shop">
      <h2 class="section-title">NEW IN</h2>

      <div class="product-grid" id="productGrid">
        <!-- Edit these entries in HTML directly (images from assets/) -->
        <div class="product" data-id="1">
          <img src="IMAGES/SnapInsta.to_572375566_17952706119043053_367570002269434102_n.jpg" alt="SOTF RECYCLED CAMO HAT">
          <h3 class="product-name">SOTF 1</h3>
          <div class="product-price">‚Ç¶368,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="2">
          <img src="IMAGES/SnapInsta.to_572556683_17952706101043053_8393858508966041823_n.jpg" alt="SOTF FADED CAMO JORTS">
          <h3 class="product-name">SOTF 2</h3>
          <div class="product-price">‚Ç¶560,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="3">
          <img src="IMAGES/SnapInsta.to_572702580_17952876246043053_2936356878599813652_n.jpg" alt="SOTF FR7 SLEEVELESS TEE">
          <h3 class="product-name">SOTF 3</h3>
          <div class="product-price">‚Ç¶320,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="4">
          <img src="IMAGES/SnapInsta.to_572753372_17952876207043053_932522189994446_n.jpg" alt="SOTF X BURNA SLEEVELESS TEE">
          <h3 class="product-name">SOTF 4</h3>
          <div class="product-price">‚Ç¶320,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="5">
          <img src="IMAGES/SnapInsta.to_572811141_17952876198043053_1796157757873879426_n.jpg" alt="SOTF HOODIE PANTS">
          <h3 class="product-name">SOTF 5</h3>
          <div class="product-price">‚Ç¶480,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="6">
          <img src="IMAGES/SnapInsta.to_572835844_17952876237043053_3247032788871405273_n.jpg" alt="SOTF PRINT FEMALE TOP">
          <h3 class="product-name">SOTF 6</h3>
          <div class="product-price">‚Ç¶160,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="7">
          <img src="IMAGES/SnapInsta.to_572901910_17952706071043053_4321536285451638924_n.jpg" alt="SOTF PRINT FEMALE SKIRT">
          <h3 class="product-name">SOTF 7</h3>
          <div class="product-price">‚Ç¶160,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="8">
          <img src="IMAGES/SnapInsta.to_572962069_17952876228043053_4789082737521544242_n.jpg" alt="SOTF SUSTAINABLE JACKET">
          <h3 class="product-name">SOTF 8</h3>
          <div class="product-price">‚Ç¶650,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="9">
          <img src="IMAGES/SnapInsta.to_573541215_17952876216043053_2217434532505409322_n.jpg" alt="SOTF PRINT FEMALE SKIRT">
          <h3 class="product-name">SOTF 9</h3>
          <div class="product-price">‚Ç¶160,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>

        <div class="product" data-id="10">
          <img src="IMAGES/SnapInsta.to_573560313_17952706053043053_6936077653562082553_n.jpg" alt="SOTF SUSTAINABLE JACKET">
          <h3 class="product-name">SOTF 10</h3>
          <div class="product-price">‚Ç¶650,000</div>
          <button class="add-to-cart">Add to cart</button>
        </div>
      </div>
    </section>

    
    <!-- ABOUT -->
    <section id="about">
      <h2 class="section-title">ABOUT SOTF STUDIOS</h2>
      <div style="max-width:900px;margin:18px auto;text-align:center;color:var(--muted)">
        <p>SOTF Studios: curated contemporary fashion, designed & sourced with care.</p>
      </div>
    </section>

  </main>

  <!-- CART DRAWER -->
  <div id="cartDrawer" class="cart-drawer" aria-hidden="true">
    <div class="cart-header">
      <strong>Your Cart</strong>
      <button id="closeCart" class="icon-btn" aria-label="Close cart">‚úï</button>
    </div>

    <div class="cart-items" id="cartItems"></div>

    <div class="cart-footer">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <div>Subtotal</div>
        <div id="cartSubtotal">‚Ç¶0</div>
      </div>
      <button id="checkoutBtn" class="checkout-btn">Checkout</button>
      <button id="clearCart" class="clear-btn">Clear cart</button>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="footer-grid container">
      <div>
        <h3>SOTF Studios</h3>
        <p class="muted">Curated contemporary fashion with conscious craftsmanship. Follow for drops and events.</p>
      </div>
      <div>
        <h4>Shop</h4>
        <a href="#shop">New In</a>
        <a href="#collections">Collections</a>
      </div>
      <div>
        <h4>Help</h4>
        <a href="#contact">Contact Us</a>
        <a href="#">FAQ</a>
      </div>
      <div>
        <h4>Newsletter</h4>
        <input id="newsletterEmail" type="email" placeholder="Enter email" style="padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);width:100%;margin-bottom:8px;background:transparent;color:var(--text)">
        <button style="padding:8px 12px;border-radius:8px;border:0;background:var(--accent);font-weight:700;cursor:pointer" onclick="subscribe()">Subscribe</button>
      </div>
    </div>
  </footer>
  <!-- Paystack inline script (replace placeholder key) -->
  <script src="https://js.paystack.co/v1/inline.js"></script>

  <script>
  /* ---------------- Config ---------------- */
  const PAYSTACK_PUBLIC_KEY = 'pk_test_REPLACE_WITH_YOUR_KEY'; // replace with your key
  const CURRENCY = 'NGN';
  const HERO_AUTO_MS = 5000;

  /* ---------------- Theme ---------------- */
  const root = document.documentElement;
  const savedTheme = localStorage.getItem('sotf_theme');
  function applyTheme(theme){
    if(theme === 'light'){ root.setAttribute('data-theme','light'); document.getElementById('modeToggle').innerText = 'üåô'; }
    else { root.removeAttribute('data-theme'); document.getElementById('modeToggle').innerText = '‚òÄÔ∏è'; }
    localStorage.setItem('sotf_theme', theme);
  }
  applyTheme(savedTheme || 'dark');
  document.getElementById('modeToggle').addEventListener('click', ()=> applyTheme(root.getAttribute('data-theme') === 'light' ? 'dark' : 'light'));

  /* ---------------- Horizontal Hero Slider Implementation ---------------- */
  (function(){
    const track = document.getElementById('heroTrack');
    const slides = Array.from(track.querySelectorAll('.hero-slide'));
    const dotsWrap = document.getElementById('heroDots');
    const prevBtn = document.getElementById('heroPrev');
    const nextBtn = document.getElementById('heroNext');
    let idx = 0, timer = null, paused = false, width = window.innerWidth;

    // layout: hero-track width = slides.length * 100% (flex handles it). We translateX by -idx * 100%.
    function updateTrack(){ track.style.transform = `translateX(-${idx * 100}%)`; updateDots(); captionsAnimate(); }

    // create & update dots
    function updateDots(){
      dotsWrap.innerHTML = '';
      slides.forEach((s,i)=>{
        const btn = document.createElement('button'); btn.className = 'hero-dot' + (i===idx ? ' is-active' : '');
        btn.addEventListener('click', ()=>{ idx = i; resetTimer(); updateTrack(); });
        dotsWrap.appendChild(btn);
      });
    }

    function next(){ idx = (idx + 1) % slides.length; updateTrack(); }
    function prev(){ idx = (idx - 1 + slides.length) % slides.length; updateTrack(); }

    // arrow handlers
    prevBtn.addEventListener('click', ()=>{ prev(); resetTimer(); });
    nextBtn.addEventListener('click', ()=>{ next(); resetTimer(); });

    // autoplay
    function start(){ timer = setInterval(()=>{ if(!paused) next(); }, HERO_AUTO_MS); }
    function stop(){ clearInterval(timer); timer = null; }
    function resetTimer(){ stop(); start(); }

    // pause on hover
    const heroSection = document.getElementById('heroFull');
    heroSection.addEventListener('mouseenter', ()=> paused = true);
    heroSection.addEventListener('mouseleave', ()=> paused = false);

    // keyboard accessibility
    document.addEventListener('keydown', (e)=>{ if(e.key === 'ArrowLeft') prev(); if(e.key === 'ArrowRight') next(); });

    // caption animation: reveal only active
    function captionsAnimate(){
      slides.forEach((s,i)=>{
        const caption = s.querySelector('.hero-caption');
        if(!caption) return;
        if(i === idx) caption.classList.add('is-visible'); else caption.classList.remove('is-visible');
      });
    }

    // responsive: recalc width
    window.addEventListener('resize', ()=>{ width = window.innerWidth; updateTrack(); });

    // init
    updateTrack();
    start();
  })();

  /* ---------------- Collections & About small horizontal sliders (auto) ---------------- */
  function initSmallTrack(trackId, autoMs=4500){
    const track = document.getElementById(trackId);
    if(!track) return;
    const slides = Array.from(track.querySelectorAll('.hero-slide'));
    let i = 0, t = null;
    function go(){ i = (i+1) % slides.length; track.style.transform = `translateX(-${i*100}%)`; }
    t = setInterval(go, autoMs);
    track.addEventListener('mouseenter', ()=> clearInterval(t));
    track.addEventListener('mouseleave', ()=> t = setInterval(go, autoMs));
    // make sure track width is slides.length * 100% via flex: each slide 100%
  }
  initSmallTrack('collectionsTrack', 4200);
  initSmallTrack('aboutTrack', 4800);

  /* ---------------- Products editable in HTML + Cart (localStorage) ---------------- */
  const CART_KEY = 'sotf_cart_v1';
  function parsePrice(text){
    const digits = (''+text).replace(/[^\d]/g,'');
    if(!digits) return 0;
    let n=0; for(let i=0;i<digits.length;i++){ n = n*10 + (digits.charCodeAt(i)-48); } return n;
  }
  function formatNGN(n){ return '‚Ç¶' + (''+n).replace(/\B(?=(\d{3})+(?!\d))/g, ","); }
  function getCart(){ try{return JSON.parse(localStorage.getItem(CART_KEY)) || []; }catch(e){return [];} }
  function saveCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); updateCartUI(); }

  function addToCartFromElement(productEl){
    const idAttr = productEl.dataset.id || Date.now();
    const id = parseInt(idAttr,10) || Date.now();
    const titleEl = productEl.querySelector('.product-name');
    const priceEl = productEl.querySelector('.product-price');
    const imgEl = productEl.querySelector('img');
    const title = titleEl ? titleEl.textContent.trim() : ('Product '+id);
    const priceInt = priceEl ? parsePrice(priceEl.textContent) : 0;
    const img = imgEl ? imgEl.getAttribute('src') : '';
    const cart = getCart();
    const found = cart.find(i=>i.id === id);
    if(found) found.qty += 1; else cart.push({ id, qty:1, product:{ id, title, price:priceInt, img }});
    saveCart(cart);
    openCart();
  }

  function wireAddButtons(){
    document.querySelectorAll('.product').forEach(pEl=>{
      const btn = pEl.querySelector('.add-to-cart');
      if(!btn) return;
      btn.removeEventListener('click', ()=>{}); // no-op safe
      btn.addEventListener('click', ()=> addToCartFromElement(pEl));
    });
  }

  /* ---------------- Cart Drawer UI ---------------- */
  const cartBtn = document.getElementById('cartBtn');
  const cartBadge = document.getElementById('cartBadge');
  const cartDrawer = document.getElementById('cartDrawer');
  const cartItemsWrap = document.getElementById('cartItems');
  const cartSubtotalEl = document.getElementById('cartSubtotal');
  const closeCartBtn = document.getElementById('closeCart');
  const checkoutBtn = document.getElementById('checkoutBtn');
  const clearCartBtn = document.getElementById('clearCart');

  cartBtn.addEventListener('click', ()=> openCart());
  closeCartBtn.addEventListener('click', ()=> closeCart());
  clearCartBtn.addEventListener('click', ()=> { if(confirm('Clear cart?')) clearCart(); });

  function openCart(){ renderCartItems(); cartDrawer.classList.add('open'); cartDrawer.setAttribute('aria-hidden','false'); }
  function closeCart(){ cartDrawer.classList.remove('open'); cartDrawer.setAttribute('aria-hidden','true'); }

  function renderCartItems(){
    const cart = getCart();
    cartItemsWrap.innerHTML = '';
    if(cart.length === 0){ cartItemsWrap.innerHTML = '<div style="padding:18px;color:var(--muted)">Your cart is empty.</div>'; cartSubtotalEl.innerText = '‚Ç¶0'; cartBadge.style.display='none'; return; }
    let subtotal = 0, totalQty = 0;
    cart.forEach(i=>{
      const row = document.createElement('div'); row.className = 'cart-item';
      subtotal += i.product.price * i.qty; totalQty += i.qty;
      row.innerHTML = `
        <img src="${i.product.img}" alt="${i.product.title}" onerror="this.style.filter='grayscale(60%)'">
        <div style="flex:1">
          <div style="font-weight:800;color:var(--text)">${i.product.title}</div>
          <div style="color:var(--muted);margin:8px 0">${formatNGN(i.product.price)} x ${i.qty}</div>
          <div class="qty-controls">
            <button data-action="decrease" data-id="${i.id}">-</button>
            <div style="min-width:28px;text-align:center">${i.qty}</div>
            <button data-action="increase" data-id="${i.id}">+</button>
            <button style="margin-left:10px;background:transparent;border:0;color:var(--muted)" data-action="remove" data-id="${i.id}">Remove</button>
          </div>
        </div>
      `;
      cartItemsWrap.appendChild(row);
    });

    cartItemsWrap.querySelectorAll('button[data-action]').forEach(b=>{
      const id = parseInt(b.dataset.id,10);
      b.addEventListener('click', ()=>{
        const action = b.dataset.action;
        const cart = getCart();
        const item = cart.find(x=>x.id === id);
        if(!item) return;
        if(action === 'decrease'){ item.qty = Math.max(0, item.qty-1); if(item.qty===0){ const idx = cart.findIndex(z=>z.id===id); cart.splice(idx,1); } }
        if(action === 'increase'){ item.qty += 1; }
        if(action === 'remove'){ const idx = cart.findIndex(z=>z.id===id); cart.splice(idx,1); }
        saveCart(cart);
        renderCartItems();
      });
    });

    cartSubtotalEl.innerText = formatNGN(subtotal);
    cartBadge.style.display = 'inline-block'; cartBadge.innerText = totalQty;
  }

  function updateCartUI(){ const cart = getCart(); const total = cart.reduce((s,i)=>s+i.qty,0); if(total>0){ cartBadge.style.display='inline-block'; cartBadge.innerText = total; } else { cartBadge.style.display='none'; } if(cartDrawer.classList.contains('open')) renderCartItems(); }
  function clearCart(){ localStorage.removeItem(CART_KEY); updateCartUI(); renderCartItems(); }

  wireAddButtons();
  updateCartUI();

  /* ---------------- Paystack Checkout (client-side demo) ---------------- */
  function ngnToKobo(n){ return Math.round(n * 100); } // expects NGN integer like 368000
  checkoutBtn.addEventListener('click', ()=>{
    const cart = getCart();
    if(cart.length === 0){ alert('Your cart is empty.'); return; }
    const totalNgn = cart.reduce((s,i)=>s + (i.product.price * i.qty), 0);
    if(!PAYSTACK_PUBLIC_KEY || PAYSTACK_PUBLIC_KEY.includes('REPLACE')){ alert('Please set your Paystack public key before testing checkout.'); return; }
    const email = prompt('Enter email for receipt (demo):', 'customer@example.com');
    if(!email) return;
    const amountKobo = ngnToKobo(totalNgn);
    const handler = PaystackPop.setup({
      key: PAYSTACK_PUBLIC_KEY,
      email: email,
      amount: amountKobo,
      currency: CURRENCY,
      onClose: function(){ alert('Payment window closed.'); },
      callback: function(response){
        alert('Payment complete! Reference: ' + response.reference);
        clearCart();
        closeCart();
      }
    });
    handler.openIframe();
  });

  /* ---------------- Small helpers ---------------- */
  document.getElementById('searchBtn').addEventListener('click', ()=> alert('Search demo ‚Äî implement your search UI.'));
  function subscribe(){ const e = document.getElementById('newsletterEmail').value.trim(); if(!e||!e.includes('@')) return alert('Enter a valid email'); alert('Subscribed (demo)'); document.getElementById('newsletterEmail').value=''; }

  // close cart when clicking outside
  document.addEventListener('click', (ev)=>{
    if(!cartDrawer.classList.contains('open')) return;
    const inside = cartDrawer.contains(ev.target) || cartBtn.contains(ev.target);
    if(!inside) closeCart();
  });
  document.addEventListener('keydown', (ev)=>{ if(ev.key === 'Escape') closeCart(); });

  // helpful API when editing HTML: call rewireAfterEdit() in console
  function rewireAfterEdit(){ wireAddButtons(); updateCartUI(); }
</script>
</body>
</html>

